<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</title>

<style>
body {
  font-family: system-ui, sans-serif;
  margin: 0;
  background: #f2f4f7;
}

header {
  background: #0b5ed7;
  color: white;
  padding: 14px;
  text-align: center;
  font-size: 18px;
}

#version {
  font-size: 12px;
  opacity: 0.8;
}

main {
  padding: 16px;
}

/* üîî Update bar */
#updateBar {
  position: fixed;
  bottom: -80px;
  left: 0;
  right: 0;
  background: #198754;
  color: white;
  padding: 14px;
  text-align: center;
  font-size: 14px;
  transition: bottom 0.4s ease;
  z-index: 999;
}

#updateBar.show {
  bottom: 0;
}

/* üìú Changelog */
#changelog {
  margin-top: 20px;
  background: white;
  border-radius: 10px;
  padding: 12px;
  font-size: 14px;
}

#changelog h3 {
  margin-top: 0;
}
</style>
</head>

<body>

<header>
  üìä ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢  
  <div id="version">Version 1.3.0</div>
</header>

<main>
  <p>‚úÖ ‡πÅ‡∏≠‡∏õ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>

  <div id="changelog">
    <h3>üìå Changelog</h3>
    <ul>
      <li><b>1.3.0</b> ‚Äì ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ + ‡πÑ‡∏Æ‡πÑ‡∏•‡∏ï‡πå</li>
      <li><b>1.2.0</b> ‚Äì ‡πÄ‡∏û‡∏¥‡πà‡∏° PIN Lock ‡πÅ‡∏ö‡∏ö ATM</li>
      <li><b>1.1.0</b> ‚Äì Backup / Restore ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</li>
      <li><b>1.0.0</b> ‚Äì ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏£‡∏Å</li>
    </ul>
  </div>
</main>

<!-- üîî Update Notification -->
<div id="updateBar">üöÄ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà...</div>

<script>
const APP_VERSION = "1.3.0";

/* ‚úÖ Register Service Worker */
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js").then(reg => {

    if (reg.waiting) showUpdate();

    reg.addEventListener("updatefound", () => {
      const newWorker = reg.installing;
      newWorker.addEventListener("statechange", () => {
        if (newWorker.state === "installed" && navigator.serviceWorker.controller) {
          showUpdate();
        }
      });
    });
  });

  navigator.serviceWorker.addEventListener("controllerchange", () => {
    location.reload();
  });
}

/* ‚úÖ Auto update UI */
function showUpdate() {
  const bar = document.getElementById("updateBar");
  bar.classList.add("show");
}
</script>

</body>
</html>
